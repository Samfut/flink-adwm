\documentclass[11pt]{ctexart}  
\makeatletter
\newif\if@restonecol
\makeatother
\let\algorithm\relax
\let\endalgorithm\relax
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}%[ruled,vlined]{
\usepackage{algpseudocode}
\usepackage{amsmath}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}  % Use Input in the format of Algorithm
\renewcommand{\algorithmicensure}{\textbf{Output:}} % Use Output in the format of Algorithm 
\begin{document}
\begin{algorithm}
    \caption{watermark generation algorithm}
    \KwIn{A element Stream $E$}
    \KwIn{Window Size $window$, Update window count $p$}
    \KwIn{Late arrival rate threshold $l$}
    warmup = p * window; delay = 0\;
    \For {$i = 1; i < |E|; i++$} {
        \If{$te(E_i) - te(E_0) <= warmup$} {
            update($T_{late}$)\;
            emitWaterMark(te($E_i$), 1)\;
        }
        \Else{
            update($T_{late}$)\;
            \If{$te(E_i) \% (p*window) == 0$} {
                delay = 0;
            }
            $v$ = extractFeature($E_i$)\;
            disorder = predictDisorder(v)\;
            $R_{late}$ = monitorLateEle(late)\;
            \If{$R_{late}$ <= l} {
                \If{disorder <= l} {
                    delay = (disorder - $l$) * $T_{late}$\;
                }
                \If{disorder > l} {
                    delay = delay - (1-disorder) * $T_{late}$\;
                }
                emitWaterMark(te($E_i$)-delay, random(1) > $R_{late}$)\;
                return\;
            }
            \If{$R_{late}$ > l} {
                \If{disorder <= l} {
                    delay = delay + $R_{late}$ * $T_{late}$\;
                }     
                \Else{
                    delay = $T_{late}$\; 
                }  
                emitWaterMark(te($E_i$)-delay, random(1) > $R_{late}$)\; 
                return\;    
            }
        }
    }
  \end{algorithm}
\end{document}